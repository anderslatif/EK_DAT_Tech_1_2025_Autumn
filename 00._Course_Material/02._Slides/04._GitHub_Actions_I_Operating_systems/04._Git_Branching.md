<div class="title-card">
    <h1>Git branching</h1>
</div>

---

# Git branches

Create a new folder and in it run: `git init`:

There will be no branches to list at this point but here is how to do it. 

List all branches:

```bash 
$ git branch
```

Press `q` to exit the list.

List all branches (including remote branches):

```bash 
$ git branch -a
```


---

# Commit on the main branch

Create a file and then commit on the main branch.

```bash
$ touch example.txt
$ git add example.txt
$ git commit -m "Added example.txt on main"
```
Now try again. 

```bash 
$ git branch
```

You should see the `main` branch, although on Windows, it might still be called `master` depending on your Git installation.


---

# Creating new branches

Create a new branch:

```bash 
$ git checkout -b <branch-name>
```

This automatically switches to the new branch.

Moving forward this is how to switch between branches:

```bash 
$ git checkout <branch_name>
```

---

# Let's create a merge conflict - Step 1

<!-- Create a new folder and initialize it as a repository:

```bash 
$ git init
``` -->

On the main branch, create a new file with content:

```bash 
$ echo "Hello world" > example.txt
```

Add and commit the file:

```bash 
$ git add example.txt
$ git commit -m "Added Hello World to example.txt"
```

---

# Let's create a merge conflict - Step 2

Create a new branch:

```bash 
$ git checkout -b merge-conflict-branch
```

The new branch will have the file and content of the main branch.

Make changes in the new branch to the same file, same line:

```bash 
$ echo "Hello from the feature branch" > example.txt 
$ git commit -am "Updated example.txt in feature branch"
```

---

# Let's create a merge conflict - Step 3

Checkout the main branch:

```bash 
$ git checkout main
```

**Status check**: So we have a file with different content in the main branch and the feature branch.

We want to have different content in the same line of the same file.

This is what will cause a merge conflict because git does not have a strategy for resolving this.


```bash 
$ echo "Main is changing the first line of example.txt" > example.txt 
$ git commit -am "Changed the first line of example.txt"
```

---

# Let's create a merge conflict - Step 4

We are now going to merge the feature branch into the main branch.
    
```bash 
$ git merge merge-conflict-branch
```

This is the message:

```
Auto-merging example.txt
CONFLICT (content): Merge conflict in example.txt
Automatic merge failed; fix conflicts and then commit the result.
```

---

# Let's create a merge conflict - Step 5

There are many smart graphical tools for resolving merge conflicts.

Doing it manually is also an option. This is what the file looks like:

```
<<<<<<< HEAD
Main is changing the first line of example.txt
=======
Hello from feature branch
>>>>>>> merge-conflict-branch
```

Delete everything until there is only one line left (the one you want to keep or the combination of the two you want).

That's it! Now you can commit the changes.


---

# Clean up - Delete the `merge-conflict-branch`

Delete the branch locally:

```bash
$ git branch -d merge-conflict-branch
```

Since our example is local we are done.

If you had pushed a branch to origin then it isn't enough to just delete it locally:

```bash
$ git push origin --delete merge-conflict-branch
```

Or let's see how to do it in the [GitHub UI](https://github.com/who-knows-inc/whoknows_variations)

---

# Advanced Material: Git For Ages 4 And Up

Watch this only for a more in-depth walkthrough.

[![Git For Ages 4 And Up](http://img.youtube.com/vi/3m7BgIvC-uQ/0.jpg)](https://www.youtube.com/watch?v=3m7BgIvC-uQ)


---

# Introducing Pull_request_exercise_2_merge_conflict.pdf

